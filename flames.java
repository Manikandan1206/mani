package com.flames;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

/**
 * Servlet implementation class flames
 */
@WebServlet("/flames")
public class flames extends HttpServlet {
	private static final long serialVersionUID = 1L;

   
    public flames() {
        // TODO Auto-generated constructor stub
    }

	
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
	
	}
	

	
	protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
		PrintWriter out=response.getWriter();
		String name1=request.getParameter("name1");
		String name2=request.getParameter("name2");
		int count=countcalculation(name1, name2);
		String flames="";
		String error="";
		if(count==0){
			flames="Try Different names...";
		}
		else{
		 flames=flamescaluclation(count);
		 }
	  
	    out.println("<html>");
	    out.println("<head>"); 
	    out.println("<style>");
	    out.println(".centered { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);}" );
	     out.println("</style>");
	     out.println("<body>");
	     out.println("<body style=background-color:powderblue;>");
	    out.println("<h1  class=centered>"+flames+"</h1>");
	    out.println("</body>");
}
	 public static int countcalculation(String name1,String name2){
		 if(name1.equalsIgnoreCase(name2)){
			 return 0;
		 }
		  int count=0;
		  char c[]=name1.toCharArray();
		  char[] s=name2.toCharArray();
		  for(int i=0;i<c.length;i++){
			  for(int j=0;j<s.length;j++){
				  if(c[i]==s[j]){
					  c[i]='0';
					  s[j]='0';
					 count=count+2;
					 break;
				  }
				  }
			   }
		  return (c.length+s.length)-count;
		 }
		 public static String flamescaluclation(int count1){
			 String f="flames";
			 String h=f;
			 String res1="";
			 String arr[]={"FRIENDS","LOVERS","AFFECTION","MARRIAGE","ENEMY","SISTER/BROTHER"};
			 String src[]={};
			 int d=6;
			 for(int i=5;i>=1;i--){
				int count=count1;
				 if(count>d){
					 	while(count>d){
					 		count=count-d;
					 		}
					  }
				 res1=f.substring(count,d)+f.substring(0, count-1);
				 f=res1;
				d=res1.length();
				}
			 for(int i=0;i<arr.length;i++){
				 if(h.charAt(i)==f.charAt(0)){
				 f=arr[i];
				 break;
				 }
			 }
			return f;
			 }

}
